# 控制 Commit

- **如何把文件内容从 Git 索引中删除，分为以下两种情况：**
  - 情况 1：Git 仓库中还没有加入任何文件，也就是执行 “git init” 之后，还没有执行过 “git commit”。使用 `git rm --cached <file>...` 指令删除 Git 索引中特定文件的内容。
  - 情况 2：Git 仓库中已经有文件，也就是我们已经执行过 “git commit”。使用 `git reset HEAD <file>...` 指令删除 Git 索引中特定文件的内容。

- **git rm 指令的作用：从工作区和索引中删除文件**

- **执行 `git rm <file>...` 指令时所做的检查：工作区或暂存区中该文件的内容是否和 Git 仓库相同，如果不同的话，Git 会显示提示信息，并且放弃执行，以免遗失数据。**
  
- **执行 `git rm <file>...` 命令成功后，Git 会马上删除工作区中的文件，然后在索引中记录要从 Git 仓库中删除改文件。** 

- **除了使用 “git rm” 指令删除文件之外，还有一个更方便的做法，我们可以现在文件夹中删除文件，然后执行 “git add .”，该步骤与 “git rm” 指令一样**

- **`git rm --cached <file>...` 命令表示从此以后不需要在 Git 仓库中更新这个文件，也就是这个文件将从 tracked 状态转变成 untracked 状态，Git 索引中这个文件的内容也会被删除，但是 Git 不会从工作区中删除这个文件（这就是加上 “--cached” 选项最大的差别）。**

- **如果 Git 仓库中已经有该文件，执行 “git rm --cached <file>...” 之后，该文件就会回到 untracked 状态**


